package shulei.july22;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

/**
 * 
 * 值得一提的是我从网页中将101110404=佳县格式的内容直接统统复制，然后利用eclipse强大的正则表达式功能替换生成我所需要的代码
 * 表达式为^(.*)(\d{9})=(.*)$替换为$1city_ID\.put("$3","$2");
 * 
 * @author helloWorld
 * 
 */
public class WeatherManager {
	static Map<String, String> city_ID = new HashMap<String, String>();
	static {
		city_ID.put("北京", "101010100");
		city_ID.put("海淀", "101010200");
		city_ID.put("朝阳", "101010300");
		city_ID.put("顺义", "101010400");
		city_ID.put("怀柔", "101010500");
		city_ID.put("通州", "101010600");
		city_ID.put("昌平", "101010700");
		city_ID.put("延庆", "101010800");
		city_ID.put("丰台", "101010900");
		city_ID.put("石景山", "101011000");
		city_ID.put("大兴", "101011100");
		city_ID.put("房山", "101011200");
		city_ID.put("密云", "101011300");
		city_ID.put("门头沟", "101011400");
		city_ID.put("平谷", "101011500");
		city_ID.put("八达岭", "101011600");
		city_ID.put("佛爷顶", "101011700");
		city_ID.put("汤河口", "101011800");
		city_ID.put("密云上甸子", "101011900");
		city_ID.put("斋堂", "101012000");
		city_ID.put("霞云岭", "101012100");

		city_ID.put("上海", "101020100");
		city_ID.put("闵行", "101020200");
		city_ID.put("宝山", "101020300");
		city_ID.put("川沙", "101020400");
		city_ID.put("嘉定", "101020500");
		city_ID.put("南汇", "101020600");
		city_ID.put("金山", "101020700");
		city_ID.put("青浦", "101020800");
		city_ID.put("松江", "101020900");
		city_ID.put("奉贤", "101021000");
		city_ID.put("崇明", "101021100");
		city_ID.put("陈家镇", "101021101");
		city_ID.put("引水船", "101021102");
		city_ID.put("徐家汇", "101021200");
		city_ID.put("浦东", "101021300");

		city_ID.put("天津", "101030100");
		city_ID.put("武清", "101030200");
		city_ID.put("宝坻", "101030300");
		city_ID.put("东丽", "101030400");
		city_ID.put("西青", "101030500");
		city_ID.put("北辰", "101030600");
		city_ID.put("宁河", "101030700");
		city_ID.put("汉沽", "101030800");
		city_ID.put("静海", "101030900");
		city_ID.put("津南", "101031000");
		city_ID.put("塘沽", "101031100");
		city_ID.put("大港", "101031200");
		city_ID.put("平台", "101031300");
		city_ID.put("蓟县", "101031400");

		city_ID.put("重庆", "101040100");
		city_ID.put("永川", "101040200");
		city_ID.put("合川", "101040300");
		city_ID.put("南川", "101040400");
		city_ID.put("江津", "101040500");
		city_ID.put("万盛", "101040600");
		city_ID.put("渝北", "101040700");
		city_ID.put("北碚", "101040800");
		city_ID.put("巴南", "101040900");
		city_ID.put("长寿", "101041000");
		city_ID.put("黔江", "101041100");
		city_ID.put("万州天城", "101041200");
		city_ID.put("万州龙宝", "101041300");
		city_ID.put("涪陵", "101041400");
		city_ID.put("开县", "101041500");
		city_ID.put("城口", "101041600");
		city_ID.put("云阳", "101041700");
		city_ID.put("巫溪", "101041800");
		city_ID.put("奉节", "101041900");
		city_ID.put("巫山", "101042000");
		city_ID.put("潼南", "101042100");
		city_ID.put("垫江", "101042200");
		city_ID.put("梁平", "101042300");
		city_ID.put("忠县", "101042400");
		city_ID.put("石柱", "101042500");
		city_ID.put("大足", "101042600");
		city_ID.put("荣昌", "101042700");
		city_ID.put("铜梁", "101042800");
		city_ID.put("璧山", "101042900");
		city_ID.put("丰都", "101043000");
		city_ID.put("武隆", "101043100");
		city_ID.put("彭水", "101043200");
		city_ID.put("綦江", "101043300");
		city_ID.put("酉阳", "101043400");
		city_ID.put("金佛山", "101043500");
		city_ID.put("秀山", "101043600");
		city_ID.put("沙坪坝", "101043700");

		city_ID.put("哈尔滨", "101050101");
		city_ID.put("双城", "101050102");
		city_ID.put("呼兰", "101050103");
		city_ID.put("阿城", "101050104");
		city_ID.put("宾县", "101050105");
		city_ID.put("依兰", "101050106");
		city_ID.put("巴彦", "101050107");
		city_ID.put("通河", "101050108");
		city_ID.put("方正", "101050109");
		city_ID.put("延寿", "101050110");
		city_ID.put("尚志", "101050111");
		city_ID.put("五常", "101050112");
		city_ID.put("木兰", "101050113");
		city_ID.put("齐齐哈尔", "101050201");
		city_ID.put("讷河", "101050202");
		city_ID.put("龙江", "101050203");
		city_ID.put("甘南", "101050204");
		city_ID.put("富裕", "101050205");
		city_ID.put("依安", "101050206");
		city_ID.put("拜泉", "101050207");
		city_ID.put("克山", "101050208");
		city_ID.put("克东", "101050209");
		city_ID.put("泰来", "101050210");
		city_ID.put("牡丹江", "101050301");
		city_ID.put("海林", "101050302");
		city_ID.put("穆棱", "101050303");
		city_ID.put("林口", "101050304");
		city_ID.put("绥芬河", "101050305");
		city_ID.put("宁安", "101050306");
		city_ID.put("东宁", "101050307");
		city_ID.put("佳木斯", "101050401");
		city_ID.put("汤原", "101050402");
		city_ID.put("抚远", "101050403");
		city_ID.put("桦川", "101050404");
		city_ID.put("桦南", "101050405");
		city_ID.put("同江", "101050406");
		city_ID.put("富锦", "101050407");
		city_ID.put("绥化", "101050501");
		city_ID.put("肇东", "101050502");
		city_ID.put("安达", "101050503");
		city_ID.put("海伦", "101050504");
		city_ID.put("明水", "101050505");
		city_ID.put("望奎", "101050506");
		city_ID.put("兰西", "101050507");
		city_ID.put("青冈", "101050508");
		city_ID.put("庆安", "101050509");
		city_ID.put("绥棱", "101050510");
		city_ID.put("黑河", "101050601");
		city_ID.put("嫩江", "101050602");
		city_ID.put("孙吴", "101050603");
		city_ID.put("逊克", "101050604");
		city_ID.put("五大连池", "101050605");
		city_ID.put("北安", "101050606");
		city_ID.put("大兴安岭", "101050701");
		city_ID.put("塔河", "101050702");
		city_ID.put("漠河", "101050703");
		city_ID.put("呼玛", "101050704");
		city_ID.put("呼中", "101050705");
		city_ID.put("新林", "101050706");
		city_ID.put("阿木尔", "101050707");
		city_ID.put("加格达奇", "101050708");
		city_ID.put("伊春", "101050801");
		city_ID.put("乌伊岭", "101050802");
		city_ID.put("五营", "101050803");
		city_ID.put("铁力", "101050804");
		city_ID.put("嘉荫", "101050805");
		city_ID.put("大庆", "101050901");
		city_ID.put("林甸", "101050902");
		city_ID.put("肇州", "101050903");
		city_ID.put("肇源", "101050904");
		city_ID.put("杜蒙", "101050905");
		city_ID.put("七台河", "101051002");
		city_ID.put("勃利", "101051003");
		city_ID.put("鸡西", "101051101");
		city_ID.put("虎林", "101051102");
		city_ID.put("密山", "101051103");
		city_ID.put("鸡东", "101051104");
		city_ID.put("鹤岗", "101051201");
		city_ID.put("绥滨", "101051202");
		city_ID.put("萝北", "101051203");
		city_ID.put("双鸭山", "101051301");
		city_ID.put("集贤", "101051302");
		city_ID.put("宝清", "101051303");
		city_ID.put("饶河", "101051304");

		city_ID.put("长春", "101060101");
		city_ID.put("农安", "101060102");
		city_ID.put("德惠", "101060103");
		city_ID.put("九台", "101060104");
		city_ID.put("榆树", "101060105");
		city_ID.put("双阳", "101060106");
		city_ID.put("吉林", "101060201");
		city_ID.put("舒兰", "101060202");
		city_ID.put("永吉", "101060203");
		city_ID.put("蛟河", "101060204");
		city_ID.put("磐石", "101060205");
		city_ID.put("桦甸", "101060206");
		city_ID.put("烟筒山", "101060207");
		city_ID.put("延吉", "101060301");
		city_ID.put("敦化", "101060302");
		city_ID.put("安图", "101060303");
		city_ID.put("汪清", "101060304");
		city_ID.put("和龙", "101060305");
		city_ID.put("天池", "101060306");
		city_ID.put("龙井", "101060307");
		city_ID.put("珲春", "101060308");
		city_ID.put("图们", "101060309");
		city_ID.put("松江", "101060310");
		city_ID.put("罗子沟", "101060311");
		city_ID.put("延边", "101060312");
		city_ID.put("四平", "101060401");
		city_ID.put("双辽", "101060402");
		city_ID.put("梨树", "101060403");
		city_ID.put("公主岭", "101060404");
		city_ID.put("伊通", "101060405");
		city_ID.put("孤家子", "101060406");
		city_ID.put("通化", "101060501");
		city_ID.put("梅河口", "101060502");
		city_ID.put("柳河", "101060503");
		city_ID.put("辉南", "101060504");
		city_ID.put("集安", "101060505");
		city_ID.put("通化县", "101060506");
		city_ID.put("白城", "101060601");
		city_ID.put("洮南", "101060602");
		city_ID.put("大安", "101060603");
		city_ID.put("镇赉", "101060604");
		city_ID.put("通榆", "101060605");
		city_ID.put("辽源", "101060701");
		city_ID.put("东丰", "101060702");
		city_ID.put("松原", "101060801");
		city_ID.put("乾安", "101060802");
		city_ID.put("前郭", "101060803");
		city_ID.put("长岭", "101060804");
		city_ID.put("扶余", "101060805");
		city_ID.put("白山", "101060901");
		city_ID.put("靖宇", "101060902");
		city_ID.put("临江", "101060903");
		city_ID.put("东岗", "101060904");
		city_ID.put("长白", "101060905");

		city_ID.put("沈阳", "101070101");
		city_ID.put("苏家屯", "101070102");
		city_ID.put("辽中", "101070103");
		city_ID.put("康平", "101070104");
		city_ID.put("法库", "101070105");
		city_ID.put("新民", "101070106");
		city_ID.put("于洪", "101070107");
		city_ID.put("新城子", "101070108");
		city_ID.put("大连", "101070201");
		city_ID.put("瓦房店", "101070202");
		city_ID.put("金州", "101070203");
		city_ID.put("普兰店", "101070204");
		city_ID.put("旅顺", "101070205");
		city_ID.put("长海", "101070206");
		city_ID.put("庄河", "101070207");
		city_ID.put("皮口", "101070208");
		city_ID.put("海洋岛", "101070209");
		city_ID.put("鞍山", "101070301");
		city_ID.put("台安", "101070302");
		city_ID.put("岫岩", "101070303");
		city_ID.put("海城", "101070304");
		city_ID.put("抚顺", "101070401");
		city_ID.put("清原", "101070403");
		city_ID.put("章党", "101070404");
		city_ID.put("本溪", "101070501");
		city_ID.put("本溪县", "101070502");
		city_ID.put("草河口", "101070503");
		city_ID.put("桓仁", "101070504");
		city_ID.put("丹东", "101070601");
		city_ID.put("凤城", "101070602");
		city_ID.put("宽甸", "101070603");
		city_ID.put("东港", "101070604");
		city_ID.put("东沟", "101070605");
		city_ID.put("锦州", "101070701");
		city_ID.put("凌海", "101070702");
		city_ID.put("北宁", "101070703");
		city_ID.put("义县", "101070704");
		city_ID.put("黑山", "101070705");
		city_ID.put("北镇", "101070706");
		city_ID.put("营口", "101070801");
		city_ID.put("大石桥", "101070802");
		city_ID.put("盖州", "101070803");
		city_ID.put("阜新", "101070901");
		city_ID.put("彰武", "101070902");
		city_ID.put("辽阳", "101071001");
		city_ID.put("辽阳县", "101071002");
		city_ID.put("灯塔", "101071003");
		city_ID.put("铁岭", "101071101");
		city_ID.put("开原", "101071102");
		city_ID.put("昌图", "101071103");
		city_ID.put("西丰", "101071104");
		city_ID.put("朝阳", "101071201");
		city_ID.put("建平", "101071202");
		city_ID.put("凌源", "101071203");
		city_ID.put("喀左", "101071204");
		city_ID.put("北票", "101071205");
		city_ID.put("羊山", "101071206");
		city_ID.put("建平县", "101071207");
		city_ID.put("盘锦", "101071301");
		city_ID.put("大洼", "101071302");
		city_ID.put("盘山", "101071303");
		city_ID.put("葫芦岛", "101071401");
		city_ID.put("建昌", "101071402");
		city_ID.put("绥中", "101071403");
		city_ID.put("兴城", "101071404");

		city_ID.put("呼和浩特", "101080101");
		city_ID.put("土默特左旗", "101080102");
		city_ID.put("托克托", "101080103");
		city_ID.put("和林格尔", "101080104");
		city_ID.put("清水河", "101080105");
		city_ID.put("呼和浩特市郊区", "101080106");
		city_ID.put("武川", "101080107");
		city_ID.put("包头", "101080201");
		city_ID.put("白云鄂博", "101080202");
		city_ID.put("满都拉", "101080203");
		city_ID.put("土默特右旗", "101080204");
		city_ID.put("固阳", "101080205");
		city_ID.put("达尔罕茂明安联合旗", "101080206");
		city_ID.put("石拐", "101080207");
		city_ID.put("乌海", "101080301");
		city_ID.put("集宁", "101080401");
		city_ID.put("卓资", "101080402");
		city_ID.put("化德", "101080403");
		city_ID.put("商都", "101080404");
		city_ID.put("希拉穆仁", "101080405");
		city_ID.put("兴和", "101080406");
		city_ID.put("凉城", "101080407");
		city_ID.put("察哈尔右翼前旗", "101080408");
		city_ID.put("察哈尔右翼中旗", "101080409");
		city_ID.put("察哈尔右翼后旗", "101080410");
		city_ID.put("四子王旗", "101080411");
		city_ID.put("丰镇", "101080412");
		city_ID.put("通辽", "101080501");
		city_ID.put("舍伯吐", "101080502");
		city_ID.put("科尔沁左翼中旗", "101080503");
		city_ID.put("科尔沁左翼后旗", "101080504");
		city_ID.put("青龙山", "101080505");
		city_ID.put("开鲁", "101080506");
		city_ID.put("库伦旗", "101080507");
		city_ID.put("奈曼旗", "101080508");
		city_ID.put("扎鲁特旗", "101080509");
		city_ID.put("高力板", "101080510");
		city_ID.put("巴雅尔吐胡硕", "101080511");
		city_ID.put("通辽钱家店", "101080512");
		city_ID.put("赤峰", "101080601");
		city_ID.put("赤峰郊区站", "101080602");
		city_ID.put("阿鲁科尔沁旗", "101080603");
		city_ID.put("浩尔吐", "101080604");
		city_ID.put("巴林左旗", "101080605");
		city_ID.put("巴林右旗", "101080606");
		city_ID.put("林西", "101080607");
		city_ID.put("克什克腾旗", "101080608");
		city_ID.put("翁牛特旗", "101080609");
		city_ID.put("岗子", "101080610");
		city_ID.put("喀喇沁旗", "101080611");
		city_ID.put("八里罕", "101080612");
		city_ID.put("宁城", "101080613");
		city_ID.put("敖汉旗", "101080614");
		city_ID.put("宝过图", "101080615");
		city_ID.put("鄂尔多斯", "101080701");
		city_ID.put("达拉特旗", "101080703");
		city_ID.put("准格尔旗", "101080704");
		city_ID.put("鄂托克前旗", "101080705");
		city_ID.put("河南", "101080706");
		city_ID.put("伊克乌素", "101080707");
		city_ID.put("鄂托克旗", "101080708");
		city_ID.put("杭锦旗", "101080709");
		city_ID.put("乌审旗", "101080710");
		city_ID.put("伊金霍洛旗", "101080711");
		city_ID.put("乌审召", "101080712");
		city_ID.put("东胜", "101080713");
		city_ID.put("临河", "101080801");
		city_ID.put("五原", "101080802");
		city_ID.put("磴口", "101080803");
		city_ID.put("乌拉特前旗", "101080804");
		city_ID.put("大佘太", "101080805");
		city_ID.put("乌拉特中旗", "101080806");
		city_ID.put("乌拉特后旗", "101080807");
		city_ID.put("海力素", "101080808");
		city_ID.put("那仁宝力格", "101080809");
		city_ID.put("杭锦后旗", "101080810");
		city_ID.put("巴盟农试站", "101080811");
		city_ID.put("锡林浩特", "101080901");
		city_ID.put("朝克乌拉", "101080902");
		city_ID.put("二连浩特", "101080903");
		city_ID.put("阿巴嘎旗", "101080904");
		city_ID.put("伊和郭勒", "101080905");
		city_ID.put("苏尼特左旗", "101080906");
		city_ID.put("苏尼特右旗", "101080907");
		city_ID.put("朱日和", "101080908");
		city_ID.put("东乌珠穆沁旗", "101080909");
		city_ID.put("西乌珠穆沁旗", "101080910");
		city_ID.put("太仆寺旗", "101080911");
		city_ID.put("镶黄旗", "101080912");
		city_ID.put("正镶白旗", "101080913");
		city_ID.put("正兰旗", "101080914");
		city_ID.put("多伦", "101080915");
		city_ID.put("博克图", "101080916");
		city_ID.put("乌拉盖", "101080917");
		city_ID.put("白日乌拉", "101080918");
		city_ID.put("那日图", "101080919");
		city_ID.put("呼伦贝尔", "101081000");
		city_ID.put("海拉尔", "101081001");
		city_ID.put("小二沟", "101081002");
		city_ID.put("阿荣旗", "101081003");
		city_ID.put("莫力达瓦旗", "101081004");
		city_ID.put("鄂伦春旗", "101081005");
		city_ID.put("鄂温克旗", "101081006");
		city_ID.put("陈巴尔虎旗", "101081007");
		city_ID.put("新巴尔虎左旗", "101081008");
		city_ID.put("新巴尔虎右旗", "101081009");
		city_ID.put("满洲里", "101081010");
		city_ID.put("牙克石", "101081011");
		city_ID.put("扎兰屯", "101081012");
		city_ID.put("额尔古纳", "101081014");
		city_ID.put("根河", "101081015");
		city_ID.put("图里河", "101081016");
		city_ID.put("乌兰浩特", "101081101");
		city_ID.put("阿尔山", "101081102");
		city_ID.put("科尔沁右翼中旗", "101081103");
		city_ID.put("胡尔勒", "101081104");
		city_ID.put("扎赉特旗", "101081105");
		city_ID.put("索伦", "101081106");
		city_ID.put("突泉", "101081107");
		city_ID.put("霍林郭勒", "101081108");
		city_ID.put("阿拉善左旗", "101081201");
		city_ID.put("阿拉善右旗", "101081202");
		city_ID.put("额济纳旗", "101081203");
		city_ID.put("拐子湖", "101081204");
		city_ID.put("吉兰太", "101081205");
		city_ID.put("锡林高勒", "101081206");
		city_ID.put("头道湖", "101081207");
		city_ID.put("中泉子", "101081208");
		city_ID.put("巴彦诺尔贡", "101081209");
		city_ID.put("雅布赖", "101081210");
		city_ID.put("乌斯太", "101081211");
		city_ID.put("孪井滩", "101081212");

		city_ID.put("石家庄", "101090101");
		city_ID.put("井陉", "101090102");
		city_ID.put("正定", "101090103");
		city_ID.put("栾城", "101090104");
		city_ID.put("行唐", "101090105");
		city_ID.put("灵寿", "101090106");
		city_ID.put("高邑", "101090107");
		city_ID.put("深泽", "101090108");
		city_ID.put("赞皇", "101090109");
		city_ID.put("无极", "101090110");
		city_ID.put("平山", "101090111");
		city_ID.put("元氏", "101090112");
		city_ID.put("赵县", "101090113");
		city_ID.put("辛集", "101090114");
		city_ID.put("藁城", "101090115");
		city_ID.put("晋洲", "101090116");
		city_ID.put("新乐", "101090117");
		city_ID.put("保定", "101090201");
		city_ID.put("满城", "101090202");
		city_ID.put("阜平", "101090203");
		city_ID.put("徐水", "101090204");
		city_ID.put("唐县", "101090205");
		city_ID.put("高阳", "101090206");
		city_ID.put("容城", "101090207");
		city_ID.put("紫荆关", "101090208");
		city_ID.put("涞源", "101090209");
		city_ID.put("望都", "101090210");
		city_ID.put("安新", "101090211");
		city_ID.put("易县", "101090212");
		city_ID.put("涞水", "101090213");
		city_ID.put("曲阳", "101090214");
		city_ID.put("蠡县", "101090215");
		city_ID.put("顺平", "101090216");
		city_ID.put("雄县", "101090217");
		city_ID.put("涿州", "101090218");
		city_ID.put("定州", "101090219");
		city_ID.put("安国", "101090220");
		city_ID.put("高碑店", "101090221");
		city_ID.put("张家口", "101090301");
		city_ID.put("宣化", "101090302");
		city_ID.put("张北", "101090303");
		city_ID.put("康保", "101090304");
		city_ID.put("沽源", "101090305");
		city_ID.put("尚义", "101090306");
		city_ID.put("蔚县", "101090307");
		city_ID.put("阳原", "101090308");
		city_ID.put("怀安", "101090309");
		city_ID.put("万全", "101090310");
		city_ID.put("怀来", "101090311");
		city_ID.put("涿鹿", "101090312");
		city_ID.put("赤城", "101090313");
		city_ID.put("崇礼", "101090314");
		city_ID.put("承德", "101090402");
		city_ID.put("承德县", "101090403");
		city_ID.put("兴隆", "101090404");
		city_ID.put("平泉", "101090405");
		city_ID.put("滦平", "101090406");
		city_ID.put("隆化", "101090407");
		city_ID.put("丰宁", "101090408");
		city_ID.put("宽城", "101090409");
		city_ID.put("围场", "101090410");
		city_ID.put("塞罕坎", "101090411");
		city_ID.put("唐山", "101090501");
		city_ID.put("丰南", "101090502");
		city_ID.put("丰润", "101090503");
		city_ID.put("滦县", "101090504");
		city_ID.put("滦南", "101090505");
		city_ID.put("乐亭", "101090506");
		city_ID.put("迁西", "101090507");
		city_ID.put("玉田", "101090508");
		city_ID.put("唐海", "101090509");
		city_ID.put("遵化", "101090510");
		city_ID.put("迁安", "101090511");
		city_ID.put("廊坊", "101090601");
		city_ID.put("固安", "101090602");
		city_ID.put("永清", "101090603");
		city_ID.put("香河", "101090604");
		city_ID.put("大城", "101090605");
		city_ID.put("文安", "101090606");
		city_ID.put("大厂", "101090607");
		city_ID.put("霸州", "101090608");
		city_ID.put("三河", "101090609");
		city_ID.put("沧州", "101090701");
		city_ID.put("青县", "101090702");
		city_ID.put("东光", "101090703");
		city_ID.put("海兴", "101090704");
		city_ID.put("盐山", "101090705");
		city_ID.put("肃宁", "101090706");
		city_ID.put("南皮", "101090707");
		city_ID.put("吴桥", "101090708");
		city_ID.put("献县", "101090709");
		city_ID.put("孟村", "101090710");
		city_ID.put("泊头", "101090711");
		city_ID.put("任丘", "101090712");
		city_ID.put("黄骅", "101090713");
		city_ID.put("河间", "101090714");
		city_ID.put("曹妃甸", "101090715");
		city_ID.put("衡水", "101090801");
		city_ID.put("枣强", "101090802");
		city_ID.put("武邑", "101090803");
		city_ID.put("武强", "101090804");
		city_ID.put("饶阳", "101090805");
		city_ID.put("安平", "101090806");
		city_ID.put("故城", "101090807");
		city_ID.put("景县", "101090808");
		city_ID.put("阜城", "101090809");
		city_ID.put("冀州", "101090810");
		city_ID.put("深州", "101090811");
		city_ID.put("邢台", "101090901");
		city_ID.put("临城", "101090902");
		city_ID.put("邢台县浆水", "101090903");
		city_ID.put("内邱", "101090904");
		city_ID.put("柏乡", "101090905");
		city_ID.put("隆尧", "101090906");
		city_ID.put("南和", "101090907");
		city_ID.put("宁晋", "101090908");
		city_ID.put("巨鹿", "101090909");
		city_ID.put("新河", "101090910");
		city_ID.put("广宗", "101090911");
		city_ID.put("平乡", "101090912");
		city_ID.put("威县", "101090913");
		city_ID.put("清河", "101090914");
		city_ID.put("临西", "101090915");
		city_ID.put("南宫", "101090916");
		city_ID.put("沙河", "101090917");
		city_ID.put("任县", "101090918");
		city_ID.put("邯郸", "101091001");
		city_ID.put("峰峰", "101091002");
		city_ID.put("临漳", "101091003");
		city_ID.put("成安", "101091004");
		city_ID.put("大名", "101091005");
		city_ID.put("涉县", "101091006");
		city_ID.put("磁县", "101091007");
		city_ID.put("肥乡", "101091008");
		city_ID.put("永年", "101091009");
		city_ID.put("邱县", "101091010");
		city_ID.put("鸡泽", "101091011");
		city_ID.put("广平", "101091012");
		city_ID.put("馆陶", "101091013");
		city_ID.put("魏县", "101091014");
		city_ID.put("曲周", "101091015");
		city_ID.put("武安", "101091016");
		city_ID.put("秦皇岛", "101091101");
		city_ID.put("青龙", "101091102");
		city_ID.put("昌黎", "101091103");
		city_ID.put("抚宁", "101091104");
		city_ID.put("卢龙", "101091105");
		city_ID.put("北戴河", "101091106");

		city_ID.put("太原", "101100101");
		city_ID.put("清徐", "101100102");
		city_ID.put("阳曲", "101100103");
		city_ID.put("娄烦", "101100104");
		city_ID.put("太原古交区", "101100105");
		city_ID.put("太原北郊", "101100106");
		city_ID.put("太原南郊", "101100107");
		city_ID.put("大同", "101100201");
		city_ID.put("阳高", "101100202");
		city_ID.put("大同县", "101100203");
		city_ID.put("天镇", "101100204");
		city_ID.put("广灵", "101100205");
		city_ID.put("灵邱", "101100206");
		city_ID.put("浑源", "101100207");
		city_ID.put("左云", "101100208");
		city_ID.put("阳泉", "101100301");
		city_ID.put("盂县", "101100302");
		city_ID.put("平定", "101100303");
		city_ID.put("晋中", "101100401");
		city_ID.put("榆次", "101100402");
		city_ID.put("榆社", "101100403");
		city_ID.put("左权", "101100404");
		city_ID.put("和顺", "101100405");
		city_ID.put("昔阳", "101100406");
		city_ID.put("寿阳", "101100407");
		city_ID.put("太谷", "101100408");
		city_ID.put("祁县", "101100409");
		city_ID.put("平遥", "101100410");
		city_ID.put("灵石", "101100411");
		city_ID.put("介休", "101100412");
		city_ID.put("长治", "101100501");
		city_ID.put("黎城", "101100502");
		city_ID.put("屯留", "101100503");
		city_ID.put("潞城", "101100504");
		city_ID.put("襄垣", "101100505");
		city_ID.put("平顺", "101100506");
		city_ID.put("武乡", "101100507");
		city_ID.put("沁县", "101100508");
		city_ID.put("长子", "101100509");
		city_ID.put("沁源", "101100510");
		city_ID.put("壶关", "101100511");
		city_ID.put("晋城", "101100601");
		city_ID.put("沁水", "101100602");
		city_ID.put("阳城", "101100603");
		city_ID.put("陵川", "101100604");
		city_ID.put("高平", "101100605");
		city_ID.put("临汾", "101100701");
		city_ID.put("曲沃", "101100702");
		city_ID.put("永和", "101100703");
		city_ID.put("隰县", "101100704");
		city_ID.put("大宁", "101100705");
		city_ID.put("吉县", "101100706");
		city_ID.put("襄汾", "101100707");
		city_ID.put("蒲县", "101100708");
		city_ID.put("汾西", "101100709");
		city_ID.put("洪洞", "101100710");
		city_ID.put("霍州", "101100711");
		city_ID.put("乡宁", "101100712");
		city_ID.put("翼城", "101100713");
		city_ID.put("侯马", "101100714");
		city_ID.put("浮山", "101100715");
		city_ID.put("安泽", "101100716");
		city_ID.put("古县", "101100717");
		city_ID.put("运城", "101100801");
		city_ID.put("临猗", "101100802");
		city_ID.put("稷山", "101100803");
		city_ID.put("万荣", "101100804");
		city_ID.put("河津", "101100805");
		city_ID.put("新绛", "101100806");
		city_ID.put("绛县", "101100807");
		city_ID.put("闻喜", "101100808");
		city_ID.put("垣曲", "101100809");
		city_ID.put("永济", "101100810");
		city_ID.put("芮城", "101100811");
		city_ID.put("夏县", "101100812");
		city_ID.put("平陆", "101100813");
		city_ID.put("朔州", "101100901");
		city_ID.put("平鲁", "101100902");
		city_ID.put("山阴", "101100903");
		city_ID.put("右玉", "101100904");
		city_ID.put("应县", "101100905");
		city_ID.put("怀仁", "101100906");
		city_ID.put("忻州", "101101001");
		city_ID.put("定襄", "101101002");
		city_ID.put("五台县豆村", "101101003");
		city_ID.put("河曲", "101101004");
		city_ID.put("偏关", "101101005");
		city_ID.put("神池", "101101006");
		city_ID.put("宁武", "101101007");
		city_ID.put("代县", "101101008");
		city_ID.put("繁峙", "101101009");
		city_ID.put("五台山", "101101010");
		city_ID.put("保德", "101101011");
		city_ID.put("静乐", "101101012");
		city_ID.put("岢岚", "101101013");
		city_ID.put("五寨", "101101014");
		city_ID.put("原平", "101101015");
		city_ID.put("吕梁", "101101100");
		city_ID.put("离石", "101101101");
		city_ID.put("临县", "101101102");
		city_ID.put("兴县", "101101103");
		city_ID.put("岚县", "101101104");
		city_ID.put("柳林", "101101105");
		city_ID.put("石楼", "101101106");
		city_ID.put("方山", "101101107");
		city_ID.put("交口", "101101108");
		city_ID.put("中阳", "101101109");
		city_ID.put("孝义", "101101110");
		city_ID.put("汾阳", "101101111");
		city_ID.put("文水", "101101112");
		city_ID.put("交城", "101101113");

		city_ID.put("西安", "101110101");
		city_ID.put("长安", "101110102");
		city_ID.put("临潼", "101110103");
		city_ID.put("蓝田", "101110104");
		city_ID.put("周至", "101110105");
		city_ID.put("户县", "101110106");
		city_ID.put("高陵", "101110107");
		city_ID.put("杨凌", "101110108");
		city_ID.put("咸阳", "101110200");
		city_ID.put("三原", "101110201");
		city_ID.put("礼泉", "101110202");
		city_ID.put("永寿", "101110203");
		city_ID.put("淳化", "101110204");
		city_ID.put("泾阳", "101110205");
		city_ID.put("武功", "101110206");
		city_ID.put("乾县", "101110207");
		city_ID.put("彬县", "101110208");
		city_ID.put("长武", "101110209");
		city_ID.put("旬邑", "101110210");
		city_ID.put("兴平", "101110211");
		city_ID.put("延安", "101110300");
		city_ID.put("延长", "101110301");
		city_ID.put("延川", "101110302");
		city_ID.put("子长", "101110303");
		city_ID.put("宜川", "101110304");
		city_ID.put("富县", "101110305");
		city_ID.put("志丹", "101110306");
		city_ID.put("安塞", "101110307");
		city_ID.put("甘泉", "101110308");
		city_ID.put("洛川", "101110309");
		city_ID.put("黄陵", "101110310");
		city_ID.put("黄龙", "101110311");
		city_ID.put("吴起", "101110312");
		city_ID.put("榆林", "101110401");
		city_ID.put("府谷", "101110402");
		city_ID.put("神木", "101110403");
		city_ID.put("佳县", "101110404");
		city_ID.put("定边", "101110405");
		city_ID.put("靖边", "101110406");
		city_ID.put("横山", "101110407");
		city_ID.put("米脂", "101110408");
		city_ID.put("子洲", "101110409");
		city_ID.put("绥德", "101110410");
		city_ID.put("吴堡", "101110411");
		city_ID.put("清涧", "101110412");
		city_ID.put("渭南", "101110501");
		city_ID.put("华县", "101110502");
		city_ID.put("潼关", "101110503");
		city_ID.put("大荔", "101110504");
		city_ID.put("白水", "101110505");
		city_ID.put("富平", "101110506");
		city_ID.put("蒲城", "101110507");
		city_ID.put("澄城", "101110508");

	}

	public Weather getWeather(String string) throws MalformedURLException {

		URL url = new URL("http://www.weather.com.cn/data/sk/"
				+ getIdByCity(string) + ".html");
		// URL url = new URL("http://m.weather.com.cn/data/" +
		// getIdByCity(string)
		// + ".html");
		// System.out.println(url);
		Weather weather = GetWeatherFormURL(url);
		return weather;
	}

	private String getIdByCity(String string) {
		if (!city_ID.containsKey(string)) {
			System.out.println("没有收入天气");
			return city_ID.get("北京");
		}
		return city_ID.get(string);
	}

	private Weather GetWeatherFormURL(URL url) {
		HttpURLConnection connection = null;
		String result = null;
		try {
			connection = (HttpURLConnection) url.openConnection();
			connection.setFollowRedirects(true);
			connection.setRequestMethod("GET");
			connection.setRequestProperty("User-Agent",
					"Mozilla/4.0 (compatible; MSIE 6.0; Windows 2000)");
			InputStream inputStream = connection.getInputStream();
			BufferedReader reader = new BufferedReader(new InputStreamReader(
					inputStream, "UTF-8"));
			StringBuilder builder = new StringBuilder();
			String temp = null;

			while ((temp = reader.readLine()) != null) {
				// 哈哈，解决了编码问题
				builder.append(new String(temp.getBytes(), "GBK"));

			}
			result = builder.toString();
		} catch (IOException e) {
			e.printStackTrace();
		} finally {
			if (connection != null) {
				connection.disconnect();
			}
		}

		Weather weather = parserInfoToWeather(result);
		return weather;

	}

	private Weather parserInfoToWeather(String weatherInfo) {
		//System.out.println(weatherInfo);
		String city_string = "\"city\":";
		String cityid_string = "\"cityid\":";
		String temp_string = "\"temp\":";
		String WD_string = "\"WD\":";
		String WS_string = "\"WS\":";
		String SD_string = "\"SD\":";
		String WSE_string = "\"WSE\":";
		String time_string = "\"time\":";

		String city = getContentBetweenTwoString(city_string, cityid_string,
				weatherInfo);
		String temperature = getContentBetweenTwoString(temp_string, WD_string,
				weatherInfo);
		String WD = getContentBetweenTwoString(WD_string, WS_string,
				weatherInfo);
		String WS = getContentBetweenTwoString(WS_string, SD_string,
				weatherInfo);
		String SD = getContentBetweenTwoString(SD_string, WSE_string,
				weatherInfo);
		String WSE = getContentBetweenTwoString(WSE_string, time_string,
				weatherInfo);
		return new Weather(city, temperature, WD, WS, SD, WSE);

	}

	private String getContentBetweenTwoString(String startString,
			String endString, String string) {
		int cityStartIndex = string.indexOf(startString) + startString.length();
		int cityEndIndex = string.indexOf(endString) - 1;
		String content = string.substring(cityStartIndex, cityEndIndex);
		// System.out.println(content);
		return content;
	}

}
